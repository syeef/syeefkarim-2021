!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("next/head")):"function"==typeof define&&define.amd?define(["exports","react","next/head"],t):t((e=e||self).nextThemes={},e.react,e.NextHead)}(this,function(e,t,n){var r="default"in t?t.default:t;n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var o=t.createContext({setTheme:function(e){},themes:[]}),a=t.memo(function(e){var t=e.forcedTheme,o=e.storageKey,a=e.attribute,i=e.enableSystem,s=e.defaultTheme,c=e.value,m="class"===a?"var d=document.documentElement.classList;d.remove("+e.attrs.map(function(e){return"'"+e+"'"}).join(",")+");":"var d=document.documentElement;",d=function(e,t){e=(null==c?void 0:c[e])||e;var n=t?e:"'"+e+"'";return"class"===a?"d.add("+n+")":"d.setAttribute('"+a+"', "+n+")"},u="system"===s;return r.createElement(n,null,r.createElement("script",t?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){"+m+d(t)+"}()"}}:i?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){try {"+m+"var e=localStorage.getItem('"+o+"');"+(u?"":d(s)+";")+'if("system"===e||(!e&&'+u+')){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?'+d("dark")+":"+d("light")+"}else "+(c?"var x="+JSON.stringify(c)+";":"")+d(c?"x[e]":"e",!0)+"}catch(e){}}()"}}:{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){try{"+m+'var e=localStorage.getItem("'+o+'");'+(u?"":d(s))+";"+(c?"var x="+JSON.stringify(c)+";":"")+d(c?"x[e]":"e",!0)+"}catch(t){}}();"}}))},function(e,t){return e.forcedTheme===t.forcedTheme}),i=function(e,t){if("undefined"!=typeof window){var n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}};e.ThemeProvider=function(e){var n=e.forcedTheme,s=e.disableTransitionOnChange,c=void 0!==s&&s,m=e.enableSystem,d=void 0===m||m,u=e.storageKey,l=void 0===u?"theme":u,f=e.themes,h=void 0===f?["light","dark"]:f,v=e.defaultTheme,y=void 0===v?d?"system":"light":v,p=e.attribute,g=void 0===p?"data-theme":p,T=e.value,b=e.children,x=t.useState(function(){return i(l,y)}),E=x[0],k=x[1],w=t.useState(function(){return i(l)}),S=w[0],C=w[1],L=T?Object.values(T):h,I=t.useCallback(function(e,t){void 0===t&&(t=!0);var n,r=(null==T?void 0:T[e])||e,o=c?((n=document.createElement("style")).appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),function(){window.getComputedStyle(document.body),setTimeout(function(){document.head.removeChild(n)},1)}):null;if(t)try{localStorage.setItem(l,e)}catch(e){}var a,i=document.documentElement;"class"===g?((a=i.classList).remove.apply(a,L),i.classList.add(r)):i.setAttribute(g,r),null==o||o()},[]),O=t.useCallback(function(e){var t=e.matches?"dark":"light";C(t),"system"===E&&I(t,!1)},[E]);t.useEffect(function(){if(d){var e=window.matchMedia("(prefers-color-scheme: dark)");return e.addListener(O),O(e),function(){return e.removeListener(O)}}},[O]);var P=t.useCallback(function(e){n||(I(e),k(e))},[]);return t.useEffect(function(){var e=function(e){e.key===l&&P(e.newValue)};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}},[]),t.useEffect(function(){"light"===E?document.documentElement.style.setProperty("color-scheme","light"):"dark"===E?document.documentElement.style.setProperty("color-scheme","dark"):"system"===E&&S&&document.documentElement.style.setProperty("color-scheme",S)},[E,S]),r.createElement(o.Provider,{value:{theme:E,setTheme:P,forcedTheme:n,resolvedTheme:"system"===E?S:E,themes:d?[].concat(h,["system"]):h,systemTheme:d?S:void 0}},r.createElement(a,{forcedTheme:n,storageKey:l,attribute:g,value:T,enableSystem:d,defaultTheme:y,attrs:L}),b)},e.useTheme=function(){return t.useContext(o)}});
