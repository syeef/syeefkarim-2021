{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/syeefkarim/Developer/syeefkarim-2021/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/syeefkarim/Developer/syeefkarim-2021/components/chart.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { Group } from \"@vx/group\";\nimport { AreaClosed, LinePath, Bar } from \"@vx/shape\";\nimport { withParentSize } from \"@vx/responsive\";\nimport { scaleTime, scaleLinear } from \"@vx/scale\";\nimport { LinearGradient } from \"@vx/gradient\";\nimport { PatternLines } from \"@vx/pattern\";\nimport { AxisBottom } from \"@vx/axis\";\nimport { withTooltip } from \"@vx/tooltip\";\nimport { localPoint } from \"@vx/event\";\nimport { bisector } from \"d3-array\";\nimport Tooltips from \"./tooltips\";\nimport HoverLine from \"./hoverline\";\nimport MaxPrice from \"./maxprice\";\nimport MinPrice from \"./minprice\";\nimport formatPrice from \"../utils/formatPrice\";\nimport formatDate from \"../utils/formatDate\";\n\nvar Chart = /*#__PURE__*/function (_React$Component) {\n  _inherits(Chart, _React$Component);\n\n  var _super = _createSuper(Chart);\n\n  function Chart(props) {\n    _classCallCheck(this, Chart);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(Chart, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          data = _this$props.data,\n          _this$props$parentWid = _this$props.parentWidth,\n          parentWidth = _this$props$parentWid === void 0 ? 600 : _this$props$parentWid,\n          _this$props$parentHei = _this$props.parentHeight,\n          parentHeight = _this$props$parentHei === void 0 ? 400 : _this$props$parentHei,\n          _this$props$margin = _this$props.margin,\n          margin = _this$props$margin === void 0 ? {} : _this$props$margin,\n          tooltipData = _this$props.tooltipData,\n          tooltipLeft = _this$props.tooltipLeft,\n          tooltipTop = _this$props.tooltipTop,\n          showTooltip = _this$props.showTooltip,\n          hideTooltip = _this$props.hideTooltip;\n      var width = parentWidth - margin.left - margin.right;\n      var height = parentHeight - margin.top - margin.bottom;\n\n      var x = function x(d) {\n        return new Date(d.time);\n      };\n\n      var y = function y(d) {\n        return d.price;\n      };\n\n      var bisectDate = bisector(function (d) {\n        return x(d);\n      }).left;\n      var firstPoint = data[0];\n      var currentPoint = data[data.length - 1];\n      var minPrice = Math.min.apply(Math, _toConsumableArray(data.map(y)));\n      var maxPrice = Math.max.apply(Math, _toConsumableArray(data.map(y)));\n      var firstPrice = y(firstPoint);\n      var currentPrice = y(currentPoint);\n      var maxData = [{\n        time: x(firstPoint),\n        price: maxPrice\n      }, {\n        time: x(currentPoint),\n        price: maxPrice\n      }];\n      var minData = [{\n        time: x(firstPoint),\n        price: minPrice\n      }, {\n        time: x(currentPoint),\n        price: minPrice\n      }];\n      var xScale = scaleTime({\n        range: [0, width],\n        domain: [x(firstPoint), x(currentPoint)]\n      });\n      var yScale = scaleLinear({\n        range: [height, 0],\n        domain: [minPrice, maxPrice + 100]\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          ref: function ref(s) {\n            return _this.svg = s;\n          },\n          width: parentWidth,\n          height: parentHeight,\n          children: [/*#__PURE__*/_jsxDEV(LinearGradient, {\n            id: \"fill\",\n            from: \"#6086d6\",\n            to: \"#6086d6\",\n            fromOpacity: 0.2,\n            toOpacity: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(PatternLines, {\n            id: \"dLines\",\n            height: 6,\n            width: 6,\n            stroke: \"#27273f\",\n            strokeWidth: 1,\n            orientation: [\"diagonal\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Group, {\n            top: margin.top,\n            left: margin.left,\n            children: [/*#__PURE__*/_jsxDEV(AxisBottom, {\n              data: data,\n              scale: xScale,\n              x: x,\n              top: height,\n              left: margin.left + 18,\n              numTicks: 3,\n              hideTicks: true,\n              hideAxisLine: true,\n              tickLabelComponent: /*#__PURE__*/_jsxDEV(\"text\", {\n                fill: \"#ffffff\",\n                dy: \".33em\",\n                fillOpacity: 0.3,\n                fontSize: 11,\n                textAnchor: \"middle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MaxPrice, {\n              data: maxData,\n              yText: yScale(maxPrice),\n              label: formatPrice(maxPrice) // yScale={yScale}\n              // xScale={xScale}\n              ,\n              x: function x(_x) {\n                return xScale(_x);\n              },\n              y: function y(_y) {\n                return yScale(_y);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(AreaClosed, {\n              stroke: \"transparent\",\n              data: data,\n              x: function x(_x2) {\n                return xScale(_x2);\n              },\n              y: function y(_y2) {\n                return yScale(_y2);\n              },\n              fill: \"url(#fill)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(AreaClosed, {\n              stroke: \"transparent\",\n              data: data,\n              x: function x(_x3) {\n                return xScale(_x3);\n              },\n              y: function y(_y3) {\n                return yScale(_y3);\n              },\n              fill: \"url(#dLines)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(LinePath, {\n              data: data,\n              x: function x(_x4) {\n                return xScale(_x4);\n              },\n              y: function y(_y4) {\n                return yScale(_y4);\n              },\n              stroke: \"#6086d6\",\n              strokeOpacity: \"0.8\",\n              strokeWidth: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MinPrice, {\n              data: minData,\n              x: function x(_x5) {\n                return xScale(_x5);\n              },\n              y: function y(_y5) {\n                return yScale(_y5);\n              },\n              yText: yScale(minPrice),\n              label: formatPrice(minPrice)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              data: data,\n              width: width,\n              height: height - margin.bottom,\n              fill: \"transparent\",\n              onMouseLeave: function onMouseLeave(data) {\n                return function (event) {\n                  return hideTooltip();\n                };\n              },\n              onMouseMove: function onMouseMove(data) {\n                return function (event) {\n                  var _localPoint = localPoint(_this.svg, event),\n                      xPoint = _localPoint.x;\n\n                  var x0 = xScale.invert(xPoint);\n                  var index = psectDate(data, x0, 1);\n                  var d0 = data[index - 1];\n                  var d1 = data[index];\n                  var d = x0 - xScale(x(d0)) > xScale(x(d1)) - x0 ? d1 : d0;\n                  showTooltip({\n                    tooltipData: d,\n                    tooltipLeft: xScale(x(d)),\n                    tooltipTop: yScale(y(d))\n                  });\n                };\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this), tooltipData && /*#__PURE__*/_jsxDEV(HoverLine, {\n            from: {\n              x: tooltipLeft,\n              y: yScale(y(maxData[0]))\n            },\n            to: {\n              x: tooltipLeft,\n              y: yScale(y(minData[0]))\n            },\n            tooltipLeft: tooltipLeft,\n            tooltipTop: tooltipTop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), tooltipData && /*#__PURE__*/_jsxDEV(Tooltips, {\n          yTop: tooltipTop - 12,\n          yLeft: tooltipLeft + 12,\n          yLabel: formatPrice(y(tooltipData)),\n          xTop: yScale(y(minData[0])) + 4,\n          xLeft: tooltipLeft,\n          xLabel: formatDate(x(tooltipData))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Chart;\n}(React.Component);\n\nexport default _c = withTooltip(Chart);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/syeefkarim/Developer/syeefkarim-2021/components/chart.js"],"names":["React","Group","AreaClosed","LinePath","Bar","withParentSize","scaleTime","scaleLinear","LinearGradient","PatternLines","AxisBottom","withTooltip","localPoint","bisector","Tooltips","HoverLine","MaxPrice","MinPrice","formatPrice","formatDate","Chart","props","data","parentWidth","parentHeight","margin","tooltipData","tooltipLeft","tooltipTop","showTooltip","hideTooltip","width","left","right","height","top","bottom","x","d","Date","time","y","price","bisectDate","firstPoint","currentPoint","length","minPrice","Math","min","map","maxPrice","max","firstPrice","currentPrice","maxData","minData","xScale","range","domain","yScale","s","svg","event","xPoint","x0","invert","index","psectDate","d0","d1","Component"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,WAAtB;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,GAA/B,QAA0C,WAA1C;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,WAAvC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,SAASC,QAAT,QAAyB,UAAzB;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;IAEMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,6BACXA,KADW;AAElB;;;;6BACQ;AAAA;;AAAA,wBAWH,KAAKA,KAXF;AAAA,UAELC,IAFK,eAELA,IAFK;AAAA,8CAGLC,WAHK;AAAA,UAGLA,WAHK,sCAGS,GAHT;AAAA,8CAILC,YAJK;AAAA,UAILA,YAJK,sCAIU,GAJV;AAAA,2CAKLC,MALK;AAAA,UAKLA,MALK,mCAKI,EALJ;AAAA,UAMLC,WANK,eAMLA,WANK;AAAA,UAOLC,WAPK,eAOLA,WAPK;AAAA,UAQLC,UARK,eAQLA,UARK;AAAA,UASLC,WATK,eASLA,WATK;AAAA,UAULC,WAVK,eAULA,WAVK;AAaP,UAAMC,KAAK,GAAGR,WAAW,GAAGE,MAAM,CAACO,IAArB,GAA4BP,MAAM,CAACQ,KAAjD;AACA,UAAMC,MAAM,GAAGV,YAAY,GAAGC,MAAM,CAACU,GAAtB,GAA4BV,MAAM,CAACW,MAAlD;;AAEA,UAAMC,CAAC,GAAG,SAAJA,CAAI,CAACC,CAAD;AAAA,eAAO,IAAIC,IAAJ,CAASD,CAAC,CAACE,IAAX,CAAP;AAAA,OAAV;;AACA,UAAMC,CAAC,GAAG,SAAJA,CAAI,CAACH,CAAD;AAAA,eAAOA,CAAC,CAACI,KAAT;AAAA,OAAV;;AACA,UAAMC,UAAU,GAAG9B,QAAQ,CAAC,UAACyB,CAAD;AAAA,eAAOD,CAAC,CAACC,CAAD,CAAR;AAAA,OAAD,CAAR,CAAsBN,IAAzC;AAEA,UAAMY,UAAU,GAAGtB,IAAI,CAAC,CAAD,CAAvB;AACA,UAAMuB,YAAY,GAAGvB,IAAI,CAACA,IAAI,CAACwB,MAAL,GAAc,CAAf,CAAzB;AACA,UAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAL,OAAAD,IAAI,qBAAQ1B,IAAI,CAAC4B,GAAL,CAAST,CAAT,CAAR,EAArB;AACA,UAAMU,QAAQ,GAAGH,IAAI,CAACI,GAAL,OAAAJ,IAAI,qBAAQ1B,IAAI,CAAC4B,GAAL,CAAST,CAAT,CAAR,EAArB;AACA,UAAMY,UAAU,GAAGZ,CAAC,CAACG,UAAD,CAApB;AACA,UAAMU,YAAY,GAAGb,CAAC,CAACI,YAAD,CAAtB;AACA,UAAMU,OAAO,GAAG,CACd;AAAEf,QAAAA,IAAI,EAAEH,CAAC,CAACO,UAAD,CAAT;AAAuBF,QAAAA,KAAK,EAAES;AAA9B,OADc,EAEd;AAAEX,QAAAA,IAAI,EAAEH,CAAC,CAACQ,YAAD,CAAT;AAAyBH,QAAAA,KAAK,EAAES;AAAhC,OAFc,CAAhB;AAIA,UAAMK,OAAO,GAAG,CACd;AAAEhB,QAAAA,IAAI,EAAEH,CAAC,CAACO,UAAD,CAAT;AAAuBF,QAAAA,KAAK,EAAEK;AAA9B,OADc,EAEd;AAAEP,QAAAA,IAAI,EAAEH,CAAC,CAACQ,YAAD,CAAT;AAAyBH,QAAAA,KAAK,EAAEK;AAAhC,OAFc,CAAhB;AAKA,UAAMU,MAAM,GAAGnD,SAAS,CAAC;AACvBoD,QAAAA,KAAK,EAAE,CAAC,CAAD,EAAI3B,KAAJ,CADgB;AAEvB4B,QAAAA,MAAM,EAAE,CAACtB,CAAC,CAACO,UAAD,CAAF,EAAgBP,CAAC,CAACQ,YAAD,CAAjB;AAFe,OAAD,CAAxB;AAIA,UAAMe,MAAM,GAAGrD,WAAW,CAAC;AACzBmD,QAAAA,KAAK,EAAE,CAACxB,MAAD,EAAS,CAAT,CADkB;AAEzByB,QAAAA,MAAM,EAAE,CAACZ,QAAD,EAAWI,QAAQ,GAAG,GAAtB;AAFiB,OAAD,CAA1B;AAKA,0BACE;AAAA,gCACE;AACE,UAAA,GAAG,EAAE,aAACU,CAAD;AAAA,mBAAQ,KAAI,CAACC,GAAL,GAAWD,CAAnB;AAAA,WADP;AAEE,UAAA,KAAK,EAAEtC,WAFT;AAGE,UAAA,MAAM,EAAEC,YAHV;AAAA,kCAKE,QAAC,cAAD;AACE,YAAA,EAAE,EAAC,MADL;AAEE,YAAA,IAAI,EAAC,SAFP;AAGE,YAAA,EAAE,EAAC,SAHL;AAIE,YAAA,WAAW,EAAE,GAJf;AAKE,YAAA,SAAS,EAAE;AALb;AAAA;AAAA;AAAA;AAAA,kBALF,eAYE,QAAC,YAAD;AACE,YAAA,EAAE,EAAC,QADL;AAEE,YAAA,MAAM,EAAE,CAFV;AAGE,YAAA,KAAK,EAAE,CAHT;AAIE,YAAA,MAAM,EAAC,SAJT;AAKE,YAAA,WAAW,EAAE,CALf;AAME,YAAA,WAAW,EAAE,CAAC,UAAD;AANf;AAAA;AAAA;AAAA;AAAA,kBAZF,eAoBE,QAAC,KAAD;AAAO,YAAA,GAAG,EAAEC,MAAM,CAACU,GAAnB;AAAwB,YAAA,IAAI,EAAEV,MAAM,CAACO,IAArC;AAAA,oCACE,QAAC,UAAD;AACE,cAAA,IAAI,EAAEV,IADR;AAEE,cAAA,KAAK,EAAEmC,MAFT;AAGE,cAAA,CAAC,EAAEpB,CAHL;AAIE,cAAA,GAAG,EAAEH,MAJP;AAKE,cAAA,IAAI,EAAET,MAAM,CAACO,IAAP,GAAc,EALtB;AAME,cAAA,QAAQ,EAAE,CANZ;AAOE,cAAA,SAAS,MAPX;AAQE,cAAA,YAAY,MARd;AASE,cAAA,kBAAkB,eAChB;AACE,gBAAA,IAAI,EAAC,SADP;AAEE,gBAAA,EAAE,EAAC,OAFL;AAGE,gBAAA,WAAW,EAAE,GAHf;AAIE,gBAAA,QAAQ,EAAE,EAJZ;AAKE,gBAAA,UAAU,EAAC;AALb;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,oBADF,eAoBE,QAAC,QAAD;AACE,cAAA,IAAI,EAAEuB,OADR;AAEE,cAAA,KAAK,EAAEK,MAAM,CAACT,QAAD,CAFf;AAGE,cAAA,KAAK,EAAEjC,WAAW,CAACiC,QAAD,CAHpB,CAIE;AACA;AALF;AAME,cAAA,CAAC,EAAE,WAACd,EAAD;AAAA,uBAAOoB,MAAM,CAACpB,EAAD,CAAb;AAAA,eANL;AAOE,cAAA,CAAC,EAAE,WAACI,EAAD;AAAA,uBAAOmB,MAAM,CAACnB,EAAD,CAAb;AAAA;AAPL;AAAA;AAAA;AAAA;AAAA,oBApBF,eA6BE,QAAC,UAAD;AACE,cAAA,MAAM,EAAC,aADT;AAEE,cAAA,IAAI,EAAEnB,IAFR;AAGE,cAAA,CAAC,EAAE,WAACe,GAAD;AAAA,uBAAOoB,MAAM,CAACpB,GAAD,CAAb;AAAA,eAHL;AAIE,cAAA,CAAC,EAAE,WAACI,GAAD;AAAA,uBAAOmB,MAAM,CAACnB,GAAD,CAAb;AAAA,eAJL;AAKE,cAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA,oBA7BF,eAoCE,QAAC,UAAD;AACE,cAAA,MAAM,EAAC,aADT;AAEE,cAAA,IAAI,EAAEnB,IAFR;AAGE,cAAA,CAAC,EAAE,WAACe,GAAD;AAAA,uBAAOoB,MAAM,CAACpB,GAAD,CAAb;AAAA,eAHL;AAIE,cAAA,CAAC,EAAE,WAACI,GAAD;AAAA,uBAAOmB,MAAM,CAACnB,GAAD,CAAb;AAAA,eAJL;AAKE,cAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA,oBApCF,eA2CE,QAAC,QAAD;AACE,cAAA,IAAI,EAAEnB,IADR;AAEE,cAAA,CAAC,EAAE,WAACe,GAAD;AAAA,uBAAOoB,MAAM,CAACpB,GAAD,CAAb;AAAA,eAFL;AAGE,cAAA,CAAC,EAAE,WAACI,GAAD;AAAA,uBAAOmB,MAAM,CAACnB,GAAD,CAAb;AAAA,eAHL;AAIE,cAAA,MAAM,EAAC,SAJT;AAKE,cAAA,aAAa,EAAC,KALhB;AAME,cAAA,WAAW,EAAE;AANf;AAAA;AAAA;AAAA;AAAA,oBA3CF,eAmDE,QAAC,QAAD;AACE,cAAA,IAAI,EAAEe,OADR;AAEE,cAAA,CAAC,EAAE,WAACnB,GAAD;AAAA,uBAAOoB,MAAM,CAACpB,GAAD,CAAb;AAAA,eAFL;AAGE,cAAA,CAAC,EAAE,WAACI,GAAD;AAAA,uBAAOmB,MAAM,CAACnB,GAAD,CAAb;AAAA,eAHL;AAIE,cAAA,KAAK,EAAEmB,MAAM,CAACb,QAAD,CAJf;AAKE,cAAA,KAAK,EAAE7B,WAAW,CAAC6B,QAAD;AALpB;AAAA;AAAA;AAAA;AAAA,oBAnDF,eA0DE,QAAC,GAAD;AACE,cAAA,IAAI,EAAEzB,IADR;AAEE,cAAA,KAAK,EAAES,KAFT;AAGE,cAAA,MAAM,EAAEG,MAAM,GAAGT,MAAM,CAACW,MAH1B;AAIE,cAAA,IAAI,EAAC,aAJP;AAKE,cAAA,YAAY,EAAE,sBAACd,IAAD;AAAA,uBAAU,UAACyC,KAAD;AAAA,yBAAWjC,WAAW,EAAtB;AAAA,iBAAV;AAAA,eALhB;AAME,cAAA,WAAW,EAAE,qBAACR,IAAD;AAAA,uBAAU,UAACyC,KAAD,EAAW;AAAA,oCACVnD,UAAU,CAAC,KAAI,CAACkD,GAAN,EAAWC,KAAX,CADA;AAAA,sBACrBC,MADqB,eACxB3B,CADwB;;AAEhC,sBAAM4B,EAAE,GAAGR,MAAM,CAACS,MAAP,CAAcF,MAAd,CAAX;AACA,sBAAMG,KAAK,GAAGC,SAAS,CAAC9C,IAAD,EAAO2C,EAAP,EAAW,CAAX,CAAvB;AACA,sBAAMI,EAAE,GAAG/C,IAAI,CAAC6C,KAAK,GAAG,CAAT,CAAf;AACA,sBAAMG,EAAE,GAAGhD,IAAI,CAAC6C,KAAD,CAAf;AACA,sBAAM7B,CAAC,GAAG2B,EAAE,GAAGR,MAAM,CAACpB,CAAC,CAACgC,EAAD,CAAF,CAAX,GAAqBZ,MAAM,CAACpB,CAAC,CAACiC,EAAD,CAAF,CAAN,GAAgBL,EAArC,GAA0CK,EAA1C,GAA+CD,EAAzD;AACAxC,kBAAAA,WAAW,CAAC;AACVH,oBAAAA,WAAW,EAAEY,CADH;AAEVX,oBAAAA,WAAW,EAAE8B,MAAM,CAACpB,CAAC,CAACC,CAAD,CAAF,CAFT;AAGVV,oBAAAA,UAAU,EAAEgC,MAAM,CAACnB,CAAC,CAACH,CAAD,CAAF;AAHR,mBAAD,CAAX;AAKD,iBAZY;AAAA;AANf;AAAA;AAAA;AAAA;AAAA,oBA1DF;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBF,EAmGGZ,WAAW,iBACV,QAAC,SAAD;AACE,YAAA,IAAI,EAAE;AACJW,cAAAA,CAAC,EAAEV,WADC;AAEJc,cAAAA,CAAC,EAAEmB,MAAM,CAACnB,CAAC,CAACc,OAAO,CAAC,CAAD,CAAR,CAAF;AAFL,aADR;AAKE,YAAA,EAAE,EAAE;AACFlB,cAAAA,CAAC,EAAEV,WADD;AAEFc,cAAAA,CAAC,EAAEmB,MAAM,CAACnB,CAAC,CAACe,OAAO,CAAC,CAAD,CAAR,CAAF;AAFP,aALN;AASE,YAAA,WAAW,EAAE7B,WATf;AAUE,YAAA,UAAU,EAAEC;AAVd;AAAA;AAAA;AAAA;AAAA,kBApGJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAmHGF,WAAW,iBACV,QAAC,QAAD;AACE,UAAA,IAAI,EAAEE,UAAU,GAAG,EADrB;AAEE,UAAA,KAAK,EAAED,WAAW,GAAG,EAFvB;AAGE,UAAA,MAAM,EAAET,WAAW,CAACuB,CAAC,CAACf,WAAD,CAAF,CAHrB;AAIE,UAAA,IAAI,EAAEkC,MAAM,CAACnB,CAAC,CAACe,OAAO,CAAC,CAAD,CAAR,CAAF,CAAN,GAAwB,CAJhC;AAKE,UAAA,KAAK,EAAE7B,WALT;AAME,UAAA,MAAM,EAAER,UAAU,CAACkB,CAAC,CAACX,WAAD,CAAF;AANpB;AAAA;AAAA;AAAA;AAAA,gBApHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAgID;;;;EAhLiB1B,KAAK,CAACuE,S;;AAmL1B,oBAAe5D,WAAW,CAACS,KAAD,CAA1B","sourcesContent":["import React from \"react\";\nimport { Group } from \"@vx/group\";\nimport { AreaClosed, LinePath, Bar } from \"@vx/shape\";\nimport { withParentSize } from \"@vx/responsive\";\nimport { scaleTime, scaleLinear } from \"@vx/scale\";\nimport { LinearGradient } from \"@vx/gradient\";\nimport { PatternLines } from \"@vx/pattern\";\nimport { AxisBottom } from \"@vx/axis\";\nimport { withTooltip } from \"@vx/tooltip\";\nimport { localPoint } from \"@vx/event\";\nimport { bisector } from \"d3-array\";\n\nimport Tooltips from \"./tooltips\";\nimport HoverLine from \"./hoverline\";\nimport MaxPrice from \"./maxprice\";\nimport MinPrice from \"./minprice\";\nimport formatPrice from \"../utils/formatPrice\";\nimport formatDate from \"../utils/formatDate\";\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const {\n      data,\n      parentWidth = 600,\n      parentHeight = 400,\n      margin = {},\n      tooltipData,\n      tooltipLeft,\n      tooltipTop,\n      showTooltip,\n      hideTooltip,\n    } = this.props;\n\n    const width = parentWidth - margin.left - margin.right;\n    const height = parentHeight - margin.top - margin.bottom;\n\n    const x = (d) => new Date(d.time);\n    const y = (d) => d.price;\n    const bisectDate = bisector((d) => x(d)).left;\n\n    const firstPoint = data[0];\n    const currentPoint = data[data.length - 1];\n    const minPrice = Math.min(...data.map(y));\n    const maxPrice = Math.max(...data.map(y));\n    const firstPrice = y(firstPoint);\n    const currentPrice = y(currentPoint);\n    const maxData = [\n      { time: x(firstPoint), price: maxPrice },\n      { time: x(currentPoint), price: maxPrice },\n    ];\n    const minData = [\n      { time: x(firstPoint), price: minPrice },\n      { time: x(currentPoint), price: minPrice },\n    ];\n\n    const xScale = scaleTime({\n      range: [0, width],\n      domain: [x(firstPoint), x(currentPoint)],\n    });\n    const yScale = scaleLinear({\n      range: [height, 0],\n      domain: [minPrice, maxPrice + 100],\n    });\n\n    return (\n      <div>\n        <svg\n          ref={(s) => (this.svg = s)}\n          width={parentWidth}\n          height={parentHeight}\n        >\n          <LinearGradient\n            id=\"fill\"\n            from=\"#6086d6\"\n            to=\"#6086d6\"\n            fromOpacity={0.2}\n            toOpacity={0}\n          />\n          <PatternLines\n            id=\"dLines\"\n            height={6}\n            width={6}\n            stroke=\"#27273f\"\n            strokeWidth={1}\n            orientation={[\"diagonal\"]}\n          />\n          <Group top={margin.top} left={margin.left}>\n            <AxisBottom\n              data={data}\n              scale={xScale}\n              x={x}\n              top={height}\n              left={margin.left + 18}\n              numTicks={3}\n              hideTicks\n              hideAxisLine\n              tickLabelComponent={\n                <text\n                  fill=\"#ffffff\"\n                  dy=\".33em\"\n                  fillOpacity={0.3}\n                  fontSize={11}\n                  textAnchor=\"middle\"\n                />\n              }\n            />\n            <MaxPrice\n              data={maxData}\n              yText={yScale(maxPrice)}\n              label={formatPrice(maxPrice)}\n              // yScale={yScale}\n              // xScale={xScale}\n              x={(x) => xScale(x)}\n              y={(y) => yScale(y)}\n            />\n            <AreaClosed\n              stroke=\"transparent\"\n              data={data}\n              x={(x) => xScale(x)}\n              y={(y) => yScale(y)}\n              fill=\"url(#fill)\"\n            />\n            <AreaClosed\n              stroke=\"transparent\"\n              data={data}\n              x={(x) => xScale(x)}\n              y={(y) => yScale(y)}\n              fill=\"url(#dLines)\"\n            />\n            <LinePath\n              data={data}\n              x={(x) => xScale(x)}\n              y={(y) => yScale(y)}\n              stroke=\"#6086d6\"\n              strokeOpacity=\"0.8\"\n              strokeWidth={1}\n            />\n            <MinPrice\n              data={minData}\n              x={(x) => xScale(x)}\n              y={(y) => yScale(y)}\n              yText={yScale(minPrice)}\n              label={formatPrice(minPrice)}\n            />\n            <Bar\n              data={data}\n              width={width}\n              height={height - margin.bottom}\n              fill=\"transparent\"\n              onMouseLeave={(data) => (event) => hideTooltip()}\n              onMouseMove={(data) => (event) => {\n                const { x: xPoint } = localPoint(this.svg, event);\n                const x0 = xScale.invert(xPoint);\n                const index = psectDate(data, x0, 1);\n                const d0 = data[index - 1];\n                const d1 = data[index];\n                const d = x0 - xScale(x(d0)) > xScale(x(d1)) - x0 ? d1 : d0;\n                showTooltip({\n                  tooltipData: d,\n                  tooltipLeft: xScale(x(d)),\n                  tooltipTop: yScale(y(d)),\n                });\n              }}\n            />\n          </Group>\n          {tooltipData && (\n            <HoverLine\n              from={{\n                x: tooltipLeft,\n                y: yScale(y(maxData[0])),\n              }}\n              to={{\n                x: tooltipLeft,\n                y: yScale(y(minData[0])),\n              }}\n              tooltipLeft={tooltipLeft}\n              tooltipTop={tooltipTop}\n            />\n          )}\n        </svg>\n        {tooltipData && (\n          <Tooltips\n            yTop={tooltipTop - 12}\n            yLeft={tooltipLeft + 12}\n            yLabel={formatPrice(y(tooltipData))}\n            xTop={yScale(y(minData[0])) + 4}\n            xLeft={tooltipLeft}\n            xLabel={formatDate(x(tooltipData))}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withTooltip(Chart);\n"]},"metadata":{},"sourceType":"module"}