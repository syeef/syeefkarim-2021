{"ast":null,"code":"import matter from \"gray-matter\";\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\nexport async function getAllPosts() {\n  const context = require.context(\"../_posts\", false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace(\".md\", \"\"),\n      title: meta.data.title,\n      publishedDate: meta.data.publishedDate,\n      excerpt: meta.data.excerpt,\n      image: meta.data.image\n    });\n  }\n\n  const filteredPosts = posts.filter(posts => posts.publishedDate);\n  return filteredPosts.sort((a, b) => new Date(b.publishedDate) - new Date(a.publishedDate));\n}\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    publishedDate: meta.data.publishedDate,\n    content: content,\n    image: meta.data.image\n  };\n}\nexport async function getConfig() {\n  const config = await import(`../config.yml`);\n  return yaml.safeLoad(config.default);\n}","map":{"version":3,"sources":["/Users/syeefkarim/Developer/syeefkarim-2021/api/index.js"],"names":["matter","marked","yaml","getAllPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","slug","replace","title","data","publishedDate","excerpt","image","filteredPosts","filter","sort","a","b","Date","getPostBySlug","fileContent","getConfig","config","safeLoad"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AACA,OAAK,MAAMC,GAAX,IAAkBH,OAAO,CAACI,IAAR,EAAlB,EAAkC;AAChC,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM,OAAQ,aAAYF,IAAK,EAAzB,CAAtB;AACA,UAAMG,IAAI,GAAGZ,MAAM,CAACW,OAAO,CAACE,OAAT,CAAnB;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACTC,MAAAA,IAAI,EAAEN,IAAI,CAACO,OAAL,CAAa,KAAb,EAAoB,EAApB,CADG;AAETC,MAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KAFR;AAGTE,MAAAA,aAAa,EAAEP,IAAI,CAACM,IAAL,CAAUC,aAHhB;AAITC,MAAAA,OAAO,EAAER,IAAI,CAACM,IAAL,CAAUE,OAJV;AAKTC,MAAAA,KAAK,EAAET,IAAI,CAACM,IAAL,CAAUG;AALR,KAAX;AAOD;;AACD,QAAMC,aAAa,GAAGhB,KAAK,CAACiB,MAAN,CAAcjB,KAAD,IAAWA,KAAK,CAACa,aAA9B,CAAtB;AACA,SAAOG,aAAa,CAACE,IAAd,CACL,CAACC,CAAD,EAAIC,CAAJ,KAAU,IAAIC,IAAJ,CAASD,CAAC,CAACP,aAAX,IAA4B,IAAIQ,IAAJ,CAASF,CAAC,CAACN,aAAX,CADjC,CAAP;AAGD;AAED,OAAO,eAAeS,aAAf,CAA6Bb,IAA7B,EAAmC;AACxC,QAAMc,WAAW,GAAG,MAAM,OAAQ,aAAYd,IAAK,KAAzB,CAA1B;AACA,QAAMH,IAAI,GAAGZ,MAAM,CAAC6B,WAAW,CAAChB,OAAb,CAAnB;AACA,QAAMF,OAAO,GAAGV,MAAM,CAACW,IAAI,CAACD,OAAN,CAAtB;AACA,SAAO;AACLM,IAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KADZ;AAELE,IAAAA,aAAa,EAAEP,IAAI,CAACM,IAAL,CAAUC,aAFpB;AAGLR,IAAAA,OAAO,EAAEA,OAHJ;AAILU,IAAAA,KAAK,EAAET,IAAI,CAACM,IAAL,CAAUG;AAJZ,GAAP;AAMD;AAED,OAAO,eAAeS,SAAf,GAA2B;AAChC,QAAMC,MAAM,GAAG,MAAM,OAAQ,eAAR,CAArB;AACA,SAAO7B,IAAI,CAAC8B,QAAL,CAAcD,MAAM,CAAClB,OAArB,CAAP;AACD","sourcesContent":["import matter from \"gray-matter\";\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\n\nexport async function getAllPosts() {\n  const context = require.context(\"../_posts\", false, /\\.md$/);\n  const posts = [];\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace(\".md\", \"\"),\n      title: meta.data.title,\n      publishedDate: meta.data.publishedDate,\n      excerpt: meta.data.excerpt,\n      image: meta.data.image,\n    });\n  }\n  const filteredPosts = posts.filter((posts) => posts.publishedDate);\n  return filteredPosts.sort(\n    (a, b) => new Date(b.publishedDate) - new Date(a.publishedDate)\n  );\n}\n\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    publishedDate: meta.data.publishedDate,\n    content: content,\n    image: meta.data.image,\n  };\n}\n\nexport async function getConfig() {\n  const config = await import(`../config.yml`);\n  return yaml.safeLoad(config.default);\n}\n"]},"metadata":{},"sourceType":"module"}